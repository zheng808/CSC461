
<!DOCTYPE HTML>
<!--
	Solid State by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
	<head>
        <title>Project 1</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<!--[if lte IE 8]><script src="assets/js/ie/html5shiv.js"></script><![endif]-->

    <script src="https://maps.googleapis.com/maps/api/js?v=3.exp&sensor=false"></script>
	<script src="map.js"></script>
		<link rel="stylesheet" href="assets/css/main.css" />
		<!--[if lte IE 9]><link rel="stylesheet" href="assets/css/ie9.css" /><![endif]-->
		<!--[if lte IE 8]><link rel="stylesheet" href="assets/css/ie8.css" /><![endif]-->
		<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<style>
.mySlides {display:none}
.w3-left, .w3-right, .w3-badge {cursor:pointer}
.w3-badge {height:13px;width:13px;padding:0}
</style>

	</head>
	<body>
           <!-- Load Facebook SDK for JavaScript -->
         <div id="fb-root"></div>
        <script>(function(d, s, id) {
        var js, fjs = d.getElementsByTagName(s)[0];
        if (d.getElementById(id)) return;
        js = d.createElement(s); js.id = id;
        js.src = 'https://connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.11';
        fjs.parentNode.insertBefore(js, fjs);
        }(document, 'script', 'facebook-jssdk'));</script>
		

		<!-- Page Wrapper -->
			<div id="page-wrapper">

				<!-- Header -->
					<header id="header">
						<h1><a href="index.html">Design And Analysis on Real-Time Systems</a></h1>
						<nav>
							<a href="#menu">Menu</a>
						</nav>
					</header>
				
                <!-- Menu -->
					<nav id="menu">
						<div class="inner">
							<h2>Menu</h2>
							<ul class="links">
								<li><a href="index.html">Home</a></li>
								<li><a href="hardware.html">Hardware</a></li>
								<li><a href="phase1.html">Phase1</a></li>
								<li><a href="phase2.html">Phase2</a></li>
								<li><a href="result.html">CPU Utilization</a></li>
							</ul>
							<a href="#" class="close">Close</a>
						</div>
					</nav>

				<!-- Wrapper -->
					<section id="wrapper">
						<header>
							<div class="inner">
								<h2>Phase 1</h2>
                                <p>Phase 1 requires the following components to be connected onto a single base station:
                                <br>
                                 One ATMega 2560 board
                                <br>
                                 Two servos
                                <br>
                                 One AC adapter
                                <br>
                                 One pan-and-tilt kit
                                <br>
                                 One joysticks
                                <br>
                                 One laser pointer
                                <br>
                                 One light sensor
                                <br>
                                 One LCD display
                                <br>
                                 Many wires
                                <br>
                                The following figure 2.0.1 shows the completion of Phase 1. 
                                </p>
                                <img src="photos/pic1.jpeg" width="550px">
							</div>
						</header>
                    
                    
				<!-- Content -->	
							<div class="wrapper">
								<div class="inner">
									<h3 class="major">3.1 System OverView
									</h3>
                                    <img src="photos/overview3.1.jpg" width="850">
                                    <br><br>
                                    <p style="text-align:center">Figure3.1.1</p>
									<p>The overall circuit diagram for phase 1 was quite complicated because all components connect to the one single station. We wired all servo, laser, and joystick ground and Vcc to the breadboard to avoid ground loop cycles. We were also using two power supplies, one from Computer to Arduino through USB cable, another another from AC adaptor into breadboard. The system overall circuit is shown above Figure 3.1.1. </p>
									</br></br>
                        
									<h3 class="major">3.2 Hardware Communication & Control
                                    </h3>
                                    <p>In phase 1, all hardware components are connected to a single Arduino ATMega 2560 board. 
                                    All input signals are fed into the board, and it will generate output signals corresponding to the input signals to control individual hardware component. 
                                    </p>
                                    <h3>3.2.1 Joystick, Servos, and Laser
                                    </h3>
									<p>Joystick values are read in through 2 digital and 1 analog pins. The two digital inputs are used to control two servos(one rotates horizontally and one rotates vertically) in the pan-and-tilt kit. Data read in through the digital pins was originally interpreted as integers in the program. 

                                    We later discovered that there are noise in the joystick values, especially in the neutral position and extreme positions. Having noise in the input data will sometimes cause unexpected behaviors and the system will become indeterministic. To address this problem, we set boundary values to ignore noise data. For example, the reading of the neutral x position of the joystick is 509, to eliminate noise, we set the program to consider all values within the boundary of 509-20< x <509+20 as neutral. 
                                    <br><br>
                                    In addition, to improve the smoothness of the servos, we converted the input data to floating point values, then applied the exponential smoothing formula with a smoothing factor of 0.3. We chose to weight the previous value heavier because if the current value suddenly changes to a very high value, the servo will move very fast, but we want to servo to be stable and move slowly. 
                                    <br><br>
                                    Finally, the laser pointer is triggered by the joystick’s push button. This seemed to be a simply task as it’s just switching ON/OFF states when the button value changes between 1 and 0. However, in order the make the servo move smoothly, we set the program to execute the program loop about every 0.1s. A human hand press and release can not be faster than 0.1s, as the result, the laser pointer switched ON for 0.1s, then switched back to OFF again when the button was released. To solve this problem, several global variables were introduced to keep track of previous states, and set lapse time that prevents fast switching.
                                    
                                    </p>
                        
                                    <h3 class="major">3.2.2 Light Sensing and LCD Display
									</h3>
                                    <p>The light sensor has attached to one of the analog pin(A8) from Arduino. Arduino provides a analog read() for retrieving a light sensor value. An external library needs to be used for LCD display, LiquidCrystal library needs to define the pin(8,9 4,5,6,7) so that it matches the pin from Arduino. In set up, lcd.beigns(16,2) initializes the columns and rows for printing strings at LCD display. Before printing, it needs to set up a cursor to define where the string should start printing. Thus, lcd.cursor(0,0) will be using. 
                                    </p>
                                    </br></br>

								</div>
							</div>

            </div>
</section>
                  

<!-- Scripts -->
			<script src="assets/js/skel.min.js"></script>
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/jquery.scrollex.min.js"></script>
			<script src="assets/js/util.js"></script>
			<!--[if lte IE 8]><script src="assets/js/ie/respond.min.js"></script><![endif]-->
			<script src="assets/js/main.js"></script>
            
            <script>
     var slideIndex = 1;
     showDivs(slideIndex);

      function plusDivs(n) {
      showDivs(slideIndex += n);
      }

      function currentDiv(n) {
      showDivs(slideIndex = n);
      }
      function showDivs(n) {
      var i;
      var x = document.getElementsByClassName("mySlides");
      var dots = document.getElementsByClassName("demo");
      if (n > x.length) {slideIndex = 1}    
      if (n < 1) {slideIndex = x.length}
      for (i = 0; i < x.length; i++) {
       x[i].style.display = "none";  
      }  
      for (i = 0; i < dots.length; i++) {
         dots[i].className = dots[i].className.replace(" w3-white", "");
      }
      x[slideIndex-1].style.display = "block";  
     dots[slideIndex-1].className += " w3-white";
      }
   </script>

    </body>
</html>